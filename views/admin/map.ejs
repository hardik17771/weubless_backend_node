<div id="map" style="height: 1000px;"></div>
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script>
var map = L.map('map').setView([20.5937, 78.9629], 5); 

L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: 'Â© OpenStreetMap contributors'
}).addTo(map);

var locations = JSON.parse('<%- locations %>');

locations.forEach(function (location) {
    // Add a small random offset to each marker
    var latOffset = (Math.random() - 0.5) * 0.02; // Adjust the offset range as needed
    var lonOffset = (Math.random() - 0.5) * 0.02;

    L.marker([location.lat + latOffset, location.lon + lonOffset]).addTo(map)
        .bindPopup(location.name); 
});

</script>
